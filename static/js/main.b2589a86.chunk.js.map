{"version":3,"sources":["history.js","apis/items.js","actions/index.js","actions/type.js","components/Item.js","components/ItemsList.js","components/Header.js","components/RegisterPage.js","components/LoginPage.js","components/App.js","reducers/index.js","reducers/authReducer.js","reducers/itemsReducer.js","reducers/flagreducer.js","index.js"],"names":["createBrowserHistory","axios","create","baseURL","fetchItems","dispatch","a","items","get","headers","localStorage","getItem","response","console","log","type","payload","data","logOutUser","removeItem","Item","onClickItem","editedItem","props","item","isDone","editItem","onClickDelete","event","stopPropagation","deleteItem","_id","status","this","Fragment","className","onClick","content","React","Component","connect","put","itemId","delete","ItemsList","renderItems","map","onSubmit","formValues","body","name1","userId","postItem","clearAddFlag","renderForm","flagAdd","handleSubmit","Field","name","component","renderInput","onClickAddButton","setAddFlag","onSubmitButton","onClickBackground","input","history","push","reduxForm","form","state","Object","values","isSignedIn","auth","post","Header","onClickLogout","RegisterPage","label","id","meta","touched","error","htmlFor","autoComplete","renderErrorMessage","user","email","password","registerUser","onClickLinkToLogin","validate","errors","confirmPassword","includes","setItem","LoginPage","loginUser","onClickLinkToRegister","App","componentDidMount","setSignInFlag","setSignOutFlag","path","exact","combineReducers","action","_","mapKeys","omit","formReducer","plugin","newItems","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.b2589a86.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory();","import axios from 'axios';\r\n\r\nconst urlExpress = 'http://localhost:8000';\r\nconst urlHeroku = 'https://fierce-fortress-14005.herokuapp.com/';\r\n\r\nexport default axios.create({\r\n    baseURL: urlExpress\r\n});","import { LOAD_ITEMS, SET_ADD_FLAG, CLEAR_ADD_FLAG, POST_ITEM, DELETE_ITEM, EDIT_TASK, SIGN_IN, SIGN_OUT } from './type';\r\nimport items from '../apis/items';\r\n\r\nexport const fetchItems = () => async (dispatch) => {\r\n    const response = await items.get(`/items`, {\r\n        headers: {\r\n            'x-auth-token': localStorage.getItem('token')\r\n        }\r\n    });\r\n    console.log(response);\r\n    dispatch({\r\n        type: LOAD_ITEMS,\r\n        payload: response.data\r\n    });\r\n};\r\n\r\nexport const postItem = (item) => async (dispatch) => {\r\n    const response = await items.post('/items', item, {\r\n        headers: {\r\n            'x-auth-token': localStorage.getItem('token')\r\n        }\r\n    });\r\n    console.log('Payload: ')\r\n    console.log(response);\r\n    dispatch({\r\n        type: POST_ITEM,\r\n        payload: response.data\r\n    });\r\n};\r\n\r\nexport const deleteItem = (itemId) => async (dispatch) => {\r\n    const response = await items.delete(`/items/${itemId}`, {\r\n        headers: {\r\n            'x-auth-token': localStorage.getItem('token')\r\n        }\r\n    });\r\n\r\n    dispatch({\r\n        type: DELETE_ITEM,\r\n        payload: itemId\r\n    });\r\n};\r\n\r\nexport const setAddFlag = () => {\r\n    return {\r\n        type: SET_ADD_FLAG\r\n    };\r\n};\r\n\r\nexport const editItem = (item) => async (dispatch) => {\r\n    const response = await items.put(`items/${item._id}`, item, {\r\n        headers: {\r\n            'x-auth-token': localStorage.getItem('token')\r\n        }\r\n    });\r\n\r\n    dispatch({\r\n        type: EDIT_TASK,\r\n        payload: item\r\n    });\r\n};\r\n\r\nexport const clearAddFlag = () => {\r\n    return {\r\n        type: CLEAR_ADD_FLAG\r\n    };\r\n};\r\n\r\nexport const registerUser = (user) => async (dispatch) => {\r\n    const response = await items.post('/users/register', user);\r\n    \r\n    localStorage.setItem(\"token\", response.headers['x-auth-token']);\r\n    \r\n    if(localStorage.getItem(\"token\")) {\r\n        dispatch({\r\n            type: SIGN_IN\r\n        });\r\n    }\r\n};\r\n\r\nexport const loginUser = (user) => async (dispatch) => {\r\n    const response = await items.post('/users/login', user);\r\n    console.log(response);\r\n    \r\n    localStorage.setItem(\"token\", response.headers['x-auth-token']);\r\n    \r\n    if(localStorage.getItem(\"token\")) {\r\n        dispatch({\r\n            type: SIGN_IN\r\n        });\r\n    }\r\n};\r\n\r\nexport const logOutUser = () => async (dispatch) => {\r\n    localStorage.removeItem(\"token\");\r\n    \r\n    if(!localStorage.getItem(\"token\")) {\r\n        dispatch({\r\n            type: SIGN_OUT\r\n        });\r\n    }\r\n};\r\n\r\nexport const setSignInFlag = () => async (dispatch) => {\r\n    \r\n    if(localStorage.getItem(\"token\")) {\r\n        dispatch({\r\n            type: SIGN_IN\r\n        });\r\n    }\r\n};\r\n\r\nexport const setSignOutFlag = () => async (dispatch) => {\r\n    \r\n    if(!localStorage.getItem(\"token\")) {\r\n        dispatch({\r\n            type: SIGN_OUT\r\n        });\r\n    }\r\n};","export const LOAD_ITEMS = 'LOAD_ITEMS';\r\nexport const SET_ADD_FLAG = 'SET_ADD_FLAG';\r\nexport const CLEAR_ADD_FLAG = 'CLEAR_ADD_FLAG';\r\nexport const POST_ITEM = 'POST_ITEM';\r\nexport const DELETE_ITEM = 'DELETE_ITEM';\r\nexport const EDIT_TASK = 'EDIT_TASK';\r\nexport const SIGN_IN = 'SIGN_IN';\r\nexport const SIGN_OUT = 'SIGN_OUT';","import '../style/item.css'\r\nimport React from 'react';\r\nimport { editItem, deleteItem } from '../actions/index';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Item extends React.Component {\r\n    onClickItem = async () => {\r\n        const editedItem = { ...this.props.item, isDone: !this.props.item.isDone };\r\n        await this.props.editItem(editedItem);\r\n    }\r\n\r\n    onClickDelete = async (event) => {\r\n        event.stopPropagation();\r\n        await this.props.deleteItem(this.props.item._id);\r\n    }\r\n\r\n    render() {\r\n        let status = this.props.item.isDone ? 'done' : 'pending';\r\n        return (\r\n            <React.Fragment>\r\n                <li className={`item ${status}`} onClick={this.onClickItem}>\r\n                    {this.props.item.content}\r\n                    <div onClick={this.onClickDelete} className=\"button-delete\">\r\n                        <i className=\"icon-cancel-circled\" />\r\n                    </div>\r\n                </li>\r\n            </React.Fragment>\r\n        );\r\n    };\r\n};\r\n\r\nexport default connect(null, { editItem, deleteItem })(Item);","import '../style/itemList.css';\r\nimport '../fontello/css/fontello.css';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { setAddFlag, clearAddFlag, postItem, fetchItems, logOutUser } from '../actions/index';\r\nimport Item from './Item';\r\n\r\nclass ItemsList extends React.Component {\r\n    componentDidMount() {\r\n        this.props.fetchItems();\r\n    };\r\n\r\n    renderItems = () => {\r\n        if(this.props.items) {\r\n            return this.props.items.map( item => {\r\n                return (\r\n                    <Item item={item} />\r\n                );\r\n            });\r\n        }\r\n    };\r\n\r\n    onSubmit = async (formValues) => {\r\n        console.log(formValues);\r\n        console.log('hello from onSubmit');\r\n        const body = {\r\n            content: formValues.name1,\r\n            isDone: false,\r\n            userId: 1\r\n        };\r\n\r\n        await this.props.postItem(body);\r\n        this.props.clearAddFlag();\r\n    };\r\n\r\n    renderInput({ input }) {\r\n        return (\r\n            <div>\r\n                <input className=\"form__field\" {...input} />\r\n            </div>\r\n        );\r\n    };\r\n\r\n    renderForm = () => {\r\n        if(this.props.flagAdd.flagAdd) {\r\n            return (\r\n                <div className=\"form-background\">\r\n                    <form className=\"form__group\" onSubmit={this.props.handleSubmit(this.onSubmit)}>\r\n                        <Field name='name1' component={this.renderInput} />\r\n                        <div className=\"button-container\"><button className=\"button-submit\">Dodaj</button></div>\r\n                    </form>\r\n                </div>\r\n            );\r\n        };\r\n\r\n\r\n    };\r\n\r\n    onClickAddButton = () => {\r\n        this.props.setAddFlag();\r\n    };\r\n\r\n    onSubmitButton = () => {\r\n        this.props.clearAddFlag();\r\n    };\r\n\r\n    onClickBackground = () => {\r\n        this.props.clearAddFlag();\r\n    }\r\n\r\n    render() {\r\n        if(!localStorage.getItem(\"token\")) {\r\n            this.props.history.push('/login');\r\n            return <div></div>;\r\n        }\r\n        return (\r\n            <div>\r\n                <ol className='list'>\r\n                    {this.renderItems()}\r\n                    {this.renderForm()}\r\n                </ol>\r\n                <div className={this.props.flagAdd.flagAdd ? 'invisible' : ''}>\r\n                    <div onClick={this.onClickAddButton}>\r\n                        <i className=\"icon-plus-circle add-button\" />\r\n                    </div>\r\n                </div>\r\n                <div onClick={this.onClickBackground} className={this.props.flagAdd.flagAdd ? 'background-modal' : 'invisible'}></div>\r\n            </div>\r\n        );\r\n    };\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        items: Object.values(state.items),\r\n        flagAdd: state.flagAdd,\r\n        isSignedIn: state.auth.isSignedIn\r\n    };\r\n};\r\n\r\nexport default reduxForm({\r\n    form: 'newItems'\r\n})(connect(mapStateToProps, { setAddFlag, clearAddFlag, postItem, fetchItems, logOutUser })(ItemsList));\r\n","import \"../style/header.css\";\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { logOutUser } from '../actions';\r\n\r\nclass Header extends React.Component {\r\n    onClickLogout = () => {\r\n        this.props.logOutUser();\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"header\">\r\n                    Lista zakupów\r\n                </div>\r\n                <div className={this.props.isSignedIn ? 'logout-button' : 'invisible'} onClick={this.onClickLogout} ><i className=\"icon-logout-1\" /></div>\r\n            </React.Fragment>\r\n        );\r\n    };\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isSignedIn: state.auth.isSignedIn\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, { logOutUser })(Header);","import '../style/registerPage.css';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { registerUser } from '../actions';\r\n\r\nclass RegisterPage extends React.Component {\r\n    \r\n    renderInput = ({ input, label, name, id, type, meta }) => {\r\n        const touched = meta.touched;\r\n        const error = meta.error;;\r\n        \r\n        return (\r\n            <div className=\"form-input-material\">\r\n                <label htmlFor={name} className=\"label\" >{label}</label>\r\n                <input { ...input } autoComplete=\"off\" type={type} name={name} id={id} className={touched && error ? 'invalid input' : 'input'} />\r\n                {this.renderErrorMessage(meta)}\r\n            </div>\r\n        )\r\n    };\r\n\r\n    onSubmit = async (formValues) => {\r\n        console.log(formValues);\r\n        const user = {\r\n            name: formValues.name,\r\n            email: formValues.email,\r\n            password: formValues.password\r\n        };\r\n\r\n        await this.props.registerUser(user);\r\n        if(this.props.isSignedIn) {\r\n            this.props.history.push('/');\r\n        }\r\n    }\r\n\r\n    renderErrorMessage = ({ touched, error }) => {\r\n        if(error && touched) {\r\n            return (\r\n                <div className=\"error-msg-box\">\r\n                    {error}\r\n                </div>\r\n            )\r\n        };\r\n    };\r\n\r\n    onClickLinkToLogin = () => {\r\n        this.props.history.push('/login');\r\n    }\r\n\r\n    render() {\r\n        if(localStorage.getItem(\"token\")) {\r\n            this.props.history.push('/');\r\n            return <div></div>;\r\n        };\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"icon-container\">\r\n                    <i className=\"icon-basket-alt icon-size\" />\r\n                </div>\r\n                <form className=\"form-container\" onSubmit={this.props.handleSubmit(this.onSubmit)} >\r\n                    <h2 className=\"form-header\" >Zarejestruj się</h2>\r\n                    <Field name='name' component={this.renderInput} label=\"Name\" id='name' type=\"text\" />\r\n                    <Field name='email' component={this.renderInput} label=\"Email\" id='email' type=\"text\" />\r\n                    <Field name='password' component={this.renderInput} label=\"Password\" id='password' type=\"password\" />\r\n                    <Field name='confirmPassword' component={this.renderInput} label=\"Confirm password\" id='confirm-password' type=\"password\" />\r\n                    <div className=\"button-container\"><button className=\"button-submit\">Zapisz</button></div>\r\n                </form>\r\n                <div className=\"bottom-link\" onClick={this.onClickLinkToLogin}>Masz już konto?<span>Zaloguj się</span></div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n};\r\n\r\nconst validate = (formValues) => {\r\n    const errors = {};\r\n\r\n    if(!formValues.name) errors.name = \"Prosze wprowadź imię\";\r\n    if(!formValues.email) errors.email = \"Prosze wprowadź email\";\r\n    if(!formValues.password) errors.password = \"Prosze wprowadź hasło\";\r\n    if(!formValues.confirmPassword) errors.confirmPassword = \"Prosze potwierdź hasło\";\r\n    if(formValues.confirmPassword !== formValues.password) errors.confirmPassword = \"Hasło sie nie zgadza\";\r\n\r\n    if(formValues.email) {\r\n        if(!formValues.email.includes('@')) {\r\n            errors.email = \"Prosze wprowadź poprawny email\";\r\n        }\r\n    }\r\n\r\n    return errors;\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isSignedIn: state.isSignedIn\r\n    };\r\n};\r\n\r\nexport default reduxForm({\r\n    form: 'regsterUser',\r\n    validate: validate\r\n})(connect(mapStateToProps, { registerUser })(RegisterPage));\r\n\r\n","import '../style/registerPage.css';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { loginUser, logOutUser } from '../actions';\r\n\r\nclass LoginPage extends React.Component {\r\n    \r\n    renderInput = ({ input, label, name, id, type, meta }) => {\r\n        const touched = meta.touched;\r\n        const error = meta.error;;\r\n        \r\n        return (\r\n            <div className=\"form-input-material\">\r\n                <label htmlFor={name} className=\"label\" >{label}</label>\r\n                <input { ...input } autoComplete=\"off\" type={type} name={name} id={id} className={touched && error ? 'invalid input' : 'input'} />\r\n                {this.renderErrorMessage(meta)}\r\n            </div>\r\n        )\r\n    };\r\n\r\n    onSubmit = async (formValues) => {\r\n        const user = {\r\n            name: formValues.name,\r\n            email: formValues.email,\r\n            password: formValues.password\r\n        };\r\n\r\n        await this.props.loginUser(user);\r\n        if(this.props.isSignedIn) {\r\n            this.props.history.push('/');\r\n        }\r\n    }\r\n\r\n    renderErrorMessage = ({ touched, error }) => {\r\n        if(error && touched) {\r\n            return (\r\n                <div className=\"error-msg-box\">\r\n                    {error}\r\n                </div>\r\n            )\r\n        };\r\n    };\r\n\r\n    onClickLinkToRegister = () => {\r\n        this.props.history.push('/register');\r\n    }\r\n\r\n    render() {\r\n        if(localStorage.getItem(\"token\")) {\r\n            this.props.history.push('/');\r\n            return <div></div>;\r\n        };\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"icon-container\">\r\n                    <i className=\"icon-basket-alt icon-size\" />\r\n                </div>\r\n                <form className=\"form-container\" onSubmit={this.props.handleSubmit(this.onSubmit)} >\r\n                    <h2 className=\"form-header\" >Zaloguj się</h2>\r\n                    <Field name='email' component={this.renderInput} label=\"Email\" id='email' type=\"text\" />\r\n                    <Field name='password' component={this.renderInput} label=\"Password\" id='password' type=\"password\" />\r\n                    <div className=\"button-container\"><button className=\"button-submit\">Zaloguj</button></div>\r\n                </form>\r\n                <div className=\"bottom-link\" onClick={this.onClickLinkToRegister}>Jeśli nie masz konta <span>Zarejestruj się</span></div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n};\r\n\r\nconst validate = (formValues) => {\r\n    const errors = {};\r\n\r\n    if(!formValues.email) errors.email = \"Prosze wprowadź email\";\r\n    if(!formValues.password) errors.password = \"Prosze wprowadź hasło\";\r\n\r\n    return errors;\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isSignedIn: state.isSignedIn\r\n    };\r\n};\r\n\r\nexport default reduxForm({\r\n    form: 'loginUser',\r\n    validate: validate\r\n})(connect(mapStateToProps, { loginUser, logOutUser })(LoginPage));\r\n\r\n","import React from 'react';\r\nimport { HashRouter, Route } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport history from '../history';\r\nimport ItemsList from './ItemsList';\r\nimport { fetchItems, setSignInFlag, setSignOutFlag } from '../actions';\r\nimport Header from './Header';\r\nimport \"../fontello/css/fontello.css\";\r\nimport RegisterPage from './RegisterPage';\r\nimport LoginPage from './LoginPage';\r\n\r\nclass App extends React.Component {\r\n    componentDidMount = () => {\r\n        if(localStorage.getItem(\"token\")) {\r\n            this.props.setSignInFlag();\r\n        } else {\r\n            this.props.setSignOutFlag();\r\n        };\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Header />\r\n                <HashRouter>\r\n                    <div>\r\n                        <Route path=\"/\" exact component={ItemsList} />\r\n                        <Route path=\"/register\" exact component={RegisterPage} />\r\n                        <Route path=\"/login\" exact component={LoginPage} />\r\n                    </div>\r\n                </HashRouter>\r\n            </div>\r\n        );\r\n    };\r\n}\r\n\r\nexport default connect(null, { fetchItems, setSignInFlag, setSignOutFlag })(App);","import { combineReducers } from 'redux';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport itemsReducer from './itemsReducer';\r\nimport flagreducer from './flagreducer';\r\nimport authReducer from './authReducer';\r\nimport { POST_ITEM } from '../actions/type';\r\n\r\nexport default combineReducers({\r\n    auth: authReducer,\r\n    items: itemsReducer,\r\n    flagAdd: flagreducer,\r\n    form: formReducer.plugin({\r\n        newItems: (state, action) => { // <------ 'account' is name of form given to reduxForm()\r\n          switch(action.type) {\r\n            case POST_ITEM:\r\n              return undefined;       // <--- blow away form data\r\n            default:\r\n              return state;\r\n          }\r\n        }\r\n      })\r\n});","import { SIGN_IN, SIGN_OUT } from \"../actions/type\";\r\n\r\nexport default (state={}, action) => {\r\n    switch (action.type) {\r\n        case SIGN_IN:\r\n            return { ...state, isSignedIn: true }\r\n        case SIGN_OUT:\r\n            return { ...state, isSignedIn: false }\r\n        default:\r\n            return state;\r\n    };\r\n};","import { LOAD_ITEMS, POST_ITEM, DELETE_ITEM, EDIT_TASK, SIGN_OUT } from \"../actions/type\";\r\nimport _ from 'lodash';\r\n\r\nexport default (state={}, action) => {\r\n    switch (action.type) {\r\n        case LOAD_ITEMS:\r\n            return { ..._.mapKeys(action.payload, '_id') };\r\n        case POST_ITEM:\r\n            return { ...state, [action.payload._id]: action.payload };\r\n        case DELETE_ITEM:\r\n            return _.omit(state, action.payload);\r\n        case EDIT_TASK:\r\n            return { ...state, [action.payload._id]: action.payload };\r\n        case SIGN_OUT:\r\n            return {};\r\n        default:\r\n            return state;\r\n    };\r\n};","import { SET_ADD_FLAG, CLEAR_ADD_FLAG } from \"../actions/type\";\r\n\r\nexport default (state={}, action) => {\r\n    switch (action.type) {\r\n        case SET_ADD_FLAG:\r\n            return { ...state, flagAdd: true }\r\n        case CLEAR_ADD_FLAG:\r\n            return { ...state, flagAdd: false }\r\n        default:\r\n            return state;\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport reduxThunk from 'redux-thunk';\r\n\r\nimport App from './components/App';\r\nimport reducers from './reducers';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n    reducers,\r\n    composeEnhancers(applyMiddleware(reduxThunk))    \r\n);\r\n\r\n\r\nReactDOM.render(\r\n    <Provider store={store} >\r\n        <App />\r\n    </Provider>,\r\n    document.querySelector('#root')\r\n);"],"sourceRoot":""}